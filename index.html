<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>King Dev Builderr - Pro Max Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Poppins:wght@300;600&family=Roboto+Mono&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #6366f1; --accent: #f43f5e; --dark-bg: #0f172a; --panel-bg: #1e293b; --text: #f8fafc; }
        
        body { margin: 0; font-family: 'Poppins', sans-serif; background: var(--dark-bg); color: var(--text); overflow: hidden; display: flex; height: 100vh; }

        /* Barra Lateral de Ferramentas */
        #toolbar { width: 340px; background: var(--panel-bg); border-right: 1px solid #334155; display: flex; flex-direction: column; z-index: 100; box-shadow: 10px 0 30px rgba(0,0,0,0.5); }
        .section { padding: 20px; border-bottom: 1px solid #334155; }
        .section h3 { font-size: 14px; text-transform: uppercase; letter-spacing: 1px; color: var(--primary); margin-bottom: 15px; }

        /* Canvas (√Årea de Edi√ß√£o Profissional) */
        #viewport { flex: 1; background: #020617; display: flex; align-items: center; justify-content: center; position: relative; overflow: auto; background-image: radial-gradient(#1e293b 1px, transparent 1px); background-size: 30px 30px; }
        #canvas { 
            width: 390px; height: 844px; /* iPhone 13/14 Pro Size */
            background: white; border-radius: 40px; position: relative; overflow: hidden;
            box-shadow: 0 0 100px rgba(0,0,0,0.8), 0 0 0 12px #334155; transition: 0.3s;
        }

        /* Elementos e Widgets */
        .widget-btn { 
            background: #334155; border: none; color: white; padding: 12px; border-radius: 12px; 
            cursor: pointer; font-size: 12px; font-weight: 600; display: flex; align-items: center; gap: 10px;
            transition: 0.2s; margin-bottom: 8px; width: 100%;
        }
        .widget-btn:hover { background: var(--primary); transform: translateY(-2px); }

        /* Inspector de Propriedades */
        #inspector { flex-grow: 1; overflow-y: auto; padding: 20px; background: #111827; }
        .prop-group { margin-bottom: 15px; }
        label { font-size: 11px; color: #94a3b8; display: block; margin-bottom: 5px; }
        input, select { 
            width: 100%; background: #1e293b; border: 1px solid #334155; color: white; 
            padding: 8px; border-radius: 8px; outline: none; transition: 0.2s;
        }
        input:focus { border-color: var(--primary); }

        /* Elementos no Canvas */
        .element { 
            position: absolute; cursor: move; display: flex; align-items: center; justify-content: center;
            transition: box-shadow 0.2s, transform 0.1s; box-sizing: border-box;
        }
        .selected { outline: 3px solid var(--primary) !important; box-shadow: 0 0 20px rgba(99, 102, 241, 0.4); }

        /* Bot√£o Exportar */
        #export-btn { 
            background: var(--accent); color: white; border: none; padding: 20px; 
            font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.3s;
        }
        #export-btn:hover { background: #e11d48; letter-spacing: 2px; }
    </style>
</head>
<body>

<div id="toolbar">
    <div class="section">
        <h2 style="color: var(--primary); margin: 0;">KING BUILDERR <span style="font-size: 10px; vertical-align: middle; color: gold;">PRO</span></h2>
    </div>

    <div class="section">
        <h3>Widgets de Elite</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <button class="widget-btn" onclick="add('button')">üîò Bot√£o</button>
            <button class="widget-btn" onclick="add('h2')">üìù T√≠tulo</button>
            <button class="widget-btn" onclick="add('div')">üì¶ Box</button>
            <button class="widget-btn" onclick="add('img')">üñºÔ∏è Foto</button>
        </div>
    </div>

    <div id="inspector">
        <div id="no-selection" style="text-align: center; color: #475569; margin-top: 50px;">
            Selecione um elemento para editar
        </div>
        <div id="props" style="display: none;">
            <h3>Estiliza√ß√£o Pro</h3>
            
            <div class="prop-group">
                <label>Conte√∫do / Texto</label>
                <input type="text" id="p-text" oninput="update()">
            </div>

            <div class="prop-group">
                <label>Fonte (Google Fonts)</label>
                <select id="p-font" onchange="update()">
                    <option value="'Poppins', sans-serif">Poppins (Moderno)</option>
                    <option value="'Montserrat', sans-serif">Montserrat (Elegante)</option>
                    <option value="'Roboto Mono', monospace">Roboto Mono (Hacker)</option>
                </select>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="prop-group"><label>Largura</label><input type="number" id="p-w" oninput="update()"></div>
                <div class="prop-group"><label>Altura</label><input type="number" id="p-h" oninput="update()"></div>
            </div>

            <div class="prop-group">
                <label>Cor de Fundo (Gradient)</label>
                <input type="color" id="p-bg" oninput="update()">
            </div>

            <div class="prop-group">
                <label>Sombra Glow (Blur)</label>
                <input type="range" id="p-shadow" min="0" max="100" value="0" oninput="update()">
            </div>

            <div class="prop-group">
                <label>Arredondamento (Round)</label>
                <input type="range" id="p-radius" min="0" max="100" value="10" oninput="update()">
            </div>

            <div class="prop-group">
                <label>Link da P√°gina</label>
                <select id="p-link" onchange="update()">
                    <option value="">Nenhum</option>
                    <option value="page2">Pr√≥xima P√°gina</option>
                </select>
            </div>

            <button onclick="del()" style="background: none; border: 1px solid #f43f5e; color: #f43f5e; width: 100%; padding: 10px; border-radius: 8px; cursor: pointer; margin-top: 20px;">Deletar Elemento</button>
        </div>
    </div>

    <button id="export-btn" onclick="exportFull()">BAIXAR PROJETO FINAL</button>
</div>

<div id="viewport">
    <div id="canvas"></div>
</div>

<script>
    let project = {
        currentPage: 'page1',
        elements: [],
        selectedId: null
    };

    function add(type) {
        const el = {
            id: 'id-' + Date.now(),
            type: type,
            text: type === 'button' ? 'Assinar Agora' : 'Novo T√≠tulo',
            x: 50, y: 100, w: 280, h: 60,
            bg: type === 'button' ? '#6366f1' : '#f1f5f9',
            color: type === 'button' ? '#ffffff' : '#0f172a',
            font: "'Poppins', sans-serif",
            shadow: 0,
            radius: 12,
            link: ''
        };
        project.elements.push(el);
        select(el.id);
        render();
    }

    function render() {
        const canvas = document.getElementById('canvas');
        canvas.innerHTML = '';
        project.elements.forEach(el => {
            const tag = document.createElement(el.type === 'button' ? 'button' : 'div');
            tag.className = `element ${project.selectedId === el.id ? 'selected' : ''}`;
            
            // Estilos de Elite
            tag.style.cssText = `
                left: ${el.x}px; top: ${el.y}px; width: ${el.w}px; height: ${el.h}px;
                background: ${el.bg}; color: ${el.color}; border-radius: ${el.radius}px;
                font-family: ${el.font}; border: none; font-size: 16px; font-weight: 600;
                box-shadow: 0 10px ${el.shadow}px -5px ${el.bg}80;
            `;
            
            if(el.type === 'img') tag.innerHTML = `<img src="${el.text}" style="width:100%;height:100%;object-fit:cover;border-radius:${el.radius}px">`;
            else tag.innerText = el.text;

            tag.onmousedown = (e) => startDrag(e, el);
            canvas.appendChild(tag);
        });
    }

    function select(id) {
        project.selectedId = id;
        const el = project.elements.find(e => e.id === id);
        document.getElementById('no-selection').style.display = 'none';
        document.getElementById('props').style.display = 'block';
        
        document.getElementById('p-text').value = el.text;
        document.getElementById('p-w').value = el.w;
        document.getElementById('p-h').value = el.h;
        document.getElementById('p-bg').value = el.bg;
        document.getElementById('p-font').value = el.font;
        document.getElementById('p-shadow').value = el.shadow;
        document.getElementById('p-radius').value = el.radius;
        document.getElementById('p-link').value = el.link;
        render();
    }

    function update() {
        const el = project.elements.find(e => e.id === project.selectedId);
        el.text = document.getElementById('p-text').value;
        el.w = document.getElementById('p-w').value;
        el.h = document.getElementById('p-h').value;
        el.bg = document.getElementById('p-bg').value;
        el.font = document.getElementById('p-font').value;
        el.shadow = document.getElementById('p-shadow').value;
        el.radius = document.getElementById('p-radius').value;
        el.link = document.getElementById('p-link').value;
        render();
    }

    function startDrag(e, el) {
        select(el.id);
        let rect = canvas.getBoundingClientRect();
        let ox = e.clientX - rect.left - el.x;
        let oy = e.clientY - rect.top - el.y;

        document.onmousemove = (e) => {
            el.x = e.clientX - rect.left - ox;
            el.y = e.clientY - rect.top - oy;
            render();
            document.getElementById('p-w').value = el.w; // Feedback visual
        };
        document.onmouseup = () => document.onmousemove = null;
    }

    function del() {
        project.elements = project.elements.filter(e => e.id !== project.selectedId);
        project.selectedId = null;
        document.getElementById('props').style.display = 'none';
        document.getElementById('no-selection').style.display = 'block';
        render();
    }

    function exportFull() {
        alert("Ousadia pura! O King Dev Builderr est√° compilando seu c√≥digo profissional...");
        // O c√≥digo de exporta√ß√£o aqui geraria o HTML completo com as Google Fonts importadas
    }
</script>
</body>
</html>
